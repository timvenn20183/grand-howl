<%= link_to content_tag(:span,'', :class => 'glyphicon glyphicon-plus', :style => 'color : #333;'), { controller: :venues, action: :new } %>
<h3 class="pull-right">Venues</h3>
<table class="table table-striped table-hover">
	<thead>
		<tr class="primary">
			<td>
				Name
			</td>
            <td>
                Day outing / Camp
            </td>
            <td>
                Province
            </td>
            <td>
                Area
            </td>
            <td>
                Website
            </td>
			<td align="right" width="100">
				Action&nbsp;&nbsp;&nbsp;&nbsp;
			</td>
		</tr>
	</thead>
	<tbody>
		<% @venues.each do |venue| %>
			<tr style="cursor:pointer">
				<td onclick="window.location.href = '/venues/<%= venue.slug %>/edit'">
					<%= venue.name %>
				</td>
                <td onclick="window.location.href = '/venues/<%= venue.slug %>/edit'">
                    <%= "Day outing" if venue.is_day == true %> <%= "Camping" if venue.is_camp == true %>
                </td>
                <td onclick="window.location.href = '/venues/<%= venue.slug %>/edit'">
                    <%= venue.province.name %>
                </td>
                <td onclick="window.location.href = '/venues/<%= venue.slug %>/edit'">
                    <%= venue.area %>
                </td>
                <td onclick="window.location.href = '/venues/<%= venue.slug %>/edit'">
                    <%= venue.website %>
                </td>
				<td align="right">
					<%= link_to content_tag(:span,'', :class => 'glyphicon glyphicon-eye-open', :style => 'color : #333;',:title => 'View venue'), { controller: :venues, action: :show, id: venue.friendly_id } %>
					&nbsp;&nbsp;
					<%= link_to content_tag(:span,'', :class => 'glyphicon glyphicon-print', :style => 'color : #333;',:title => 'Download pdf'), { controller: :venues, action: :pdf, id: venue.friendly_id , format: :pdf}, method: :get,:target => "_new"  %>
					&nbsp;&nbsp;
				</td>
			</tr>
		<% end %>
	</tbody>
</table>


<div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
            <table border="0" cellpadding="0" cellspacing="0" align="center"><tr><td>
                <img id="modal_image" src="//placehold.it/1000x600" class="img-responsive">
            </td></tr></table>
        </div>
    </div>
  </div>
</div>

<script>
function centerModal() {
    $(this).css('display', 'block');
    var $dialog = $(this).find(".modal-dialog");
    var offset = ($(window).height() - $dialog.height()) / 2;
    // Center modal vertically in window
    $dialog.css("margin-top", offset);
}

$('.modal').on('show.bs.modal', centerModal);
$(window).on("resize", function () {
    $('.modal:visible').each(centerModal);
});

function show(image) {
    $('#modal_image').attr('src',image);
}
</script>

